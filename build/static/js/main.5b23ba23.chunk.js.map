{"version":3,"sources":["components/Softkey/Softkey.module.css","components/Todos/ToDos.module.css","components/Input/Input.module.css","components/Input/Input.js","components/Header/Header.js","components/Todos/ToDos.js","components/Softkey/Softkey.js","hooks/useNavigation.js","index.js","App.js"],"names":["module","exports","softkey","left","right","center","todos","completed","input","Input","_ref","label","type","react_default","a","createElement","className","css","nav-selectable","Header","title","header","ToDos","toDos","undefined","length","map","toDo","index","key","concat","todo","name","src","Softkey","onKeyLeft","onKeyCenter","onKeyRight","useEffect","document","addEventListener","handleKeyDown","removeEventListener","evt","useNavigation","onKeyDown","setNavigation","_useState","useState","_useState2","Object","slicedToArray","current","setCurrent","getAllElements","querySelectorAll","selectElement","body","setIndex","allElements","currentIndex","element","querySelector","parseInt","getAttribute","getTheIndexOfTheSelectedElement","goToFirstElement","arguments","forEach","call","selectThisElement","setAttribute","scrollIntoView","nodeName","focus","blur","tagName","ReactDOM","render","setToDo","_useNavigation","_useNavigation2","Fragment","Header_Header","Input_Input","ToDos_ToDos","Softkey_Softkey","currentElement","currentNavigationIndex","prevState","toConsumableArray","value","console","log","splice","goToPreviousElement","Boolean","getElementById"],"mappings":"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","file":"static/js/main.5b23ba23.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"softkey\":\"Softkey_softkey__1151L\",\"left\":\"Softkey_left__2rFAu\",\"right\":\"Softkey_right__WpWo6\",\"center\":\"Softkey_center__2ZVB4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todos\":\"ToDos_todos__pfuN-\",\"completed\":\"ToDos_completed__1Rfv4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3PNbO\"};","import React from \"react\";\nimport css from \"./Input.module.css\";\n\nexport const Input = ({ label, type }) => (\n  <div className={css.input}>\n    <input type={type} nav-selectable=\"true\" />\n    <label>{label}</label>\n  </div>\n)\n","import React from 'react'\nimport css from './Header.module.css';\n\nexport const Header = ({ title }) => {\n  return (\n    <header className={css.header}>\n      <span>{title}</span>\n    </header>\n  )\n}\n","import React from 'react';\nimport css from './ToDos.module.css';\n\nexport const ToDos = ({ toDos }) => {\n  if (toDos === undefined || !toDos.length) return null;\n\n  return (\n    <div className={css.todos}>\n      {toDos.map( function (toDo, index) {\n        return  <div>\n        <span\n          nav-selectable=\"true\"\n          key={index}\n          className={`${css.todo} ${toDo.completed ? css.completed : ''}`}>\n          {toDo.name}\n        </span><br />\n        <img\n      \t  src= {toDo.name} />\n\t<hr/>\n        </div>\n        } \n      )}\n    </div>\n  )\n}\n\n","import React, { useEffect } from \"react\";\nimport css from \"./Softkey.module.css\";\n\nexport const Softkey = ({\n  left,\n  onKeyLeft,\n  center,\n  onKeyCenter,\n  right,\n  onKeyRight\n}) => {\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleKeyDown = evt => {\n    switch (evt.key) {\n      case \"SoftLeft\":\n        return onKeyLeft && onKeyLeft(evt);\n      case \"Enter\":\n        return onKeyCenter && onKeyCenter(evt);\n      case \"SoftRight\":\n        return onKeyRight && onKeyRight(evt);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <div className={css.softkey}>\n      <label className={css.left}>{left}</label>\n      <label className={css.center}>{center}</label>\n      <label className={css.right}>{right}</label>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useNavigation = () => {\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyDown);\n    setNavigation(0);\n\n    return () => document.removeEventListener('keydown', onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [current, setCurrent] = useState({ type: null, index: null });\n\n  const getAllElements = () => document.querySelectorAll('[nav-selectable]');\n\n  const getTheIndexOfTheSelectedElement = () => {\n    const element = document.querySelector('[nav-selected=true]');\n    return element ? parseInt(element.getAttribute('nav-index')) : 0;\n  }\n\n  const setNavigation = index => selectElement(getAllElements()[index] || document.body);\n\n  const onKeyDown = evt => {\n    if (evt.key !== 'ArrowDown' && evt.key !== 'ArrowUp') return;\n\n    const allElements = getAllElements();\n    const currentIndex = getTheIndexOfTheSelectedElement();\n\n    let setIndex;\n    switch (evt.key) {\n      case 'ArrowDown':\n        const goToFirstElement = currentIndex + 1 > allElements.length - 1;\n        setIndex = goToFirstElement ? 0 : currentIndex + 1;\n        return selectElement(allElements[setIndex] || allElements[0], setIndex);\n      case 'ArrowUp':\n        const goToLastElement = currentIndex === 0;\n        setIndex = goToLastElement ? allElements.length - 1 : currentIndex - 1;\n        return selectElement(allElements[setIndex] || allElements[0], setIndex);\n      default:\n        break;\n    }\n  }\n\n  const selectElement = (selectElement, setIndex = 0) => {\n    if (selectElement) {\n      [].forEach.call(getAllElements(), (element, index) => {\n        const selectThisElement = element;\n        element.setAttribute(\"nav-selected\", element === selectElement);\n        element.setAttribute(\"nav-index\", index);\n        if (selectThisElement) {\n          selectThisElement.scrollIntoView(true);\n          if (element.nodeName === 'INPUT') {\n            element.focus();\n          } else {\n            element.blur();\n          }\n        }\n      });\n      setCurrent({ type: selectElement.tagName, index: setIndex });\n    } else {\n      setNavigation(0);\n    }\n  }\n\n  return [current, setNavigation];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","import React, { useState } from \"react\";\nimport { Header, Input, ToDos, Softkey } from \"./components\";\nimport { useNavigation } from \"./hooks\";\n\nexport default function App() {\n  const [toDos, setToDo] = useState([]);\n\n  const [current, setNavigation] = useNavigation();\n\n  const onKeyCenter = () => {\n    const currentElement = document.querySelector(\"[nav-selected=true]\");\n    const currentNavigationIndex = parseInt(currentElement.getAttribute(\"nav-index\"), 10);\n\n    const isATask = currentNavigationIndex > 0;\n    if (isATask) {\n      setToDo(prevState => {\n        const current = [...prevState];\n        current[currentNavigationIndex - 1].completed = !current[currentNavigationIndex - 1].completed;\n        return current;\n      });\n    } else if (currentElement.value.length) {\n      const toDo = { name: currentElement.value, completed: false };\n      setToDo(prevState => [...prevState, toDo]);\n      currentElement.value = \"\";\n    }\n    console.log(\"test center\");\n  };\n\n  const onKeyRight = () => {\n    const currentIndex = parseInt(\n      document.querySelector(\"[nav-selected=true]\").getAttribute(\"nav-index\"),\n      10\n    );\n    if (currentIndex > 0) {\n      setToDo(prevState => {\n        const current = [...prevState];\n        current.splice(currentIndex - 1, 1);\n        const goToPreviousElement = Boolean(current.length);\n        setNavigation(goToPreviousElement ? currentIndex - 1 : 0);\n        return current;\n      });\n    }\n  };\n\n  return (\n    <>\n      <Header title=\"Traveller\" />\n\n      <Input type=\"text\" label=\"+\" />\n      <ToDos toDos={toDos} />\n\n      <Softkey\n        center={current.type === \"INPUT\" ? \"Insert\" : \"Toggle\"}\n        onKeyCenter={onKeyCenter}\n        right={current.type === \"SPAN\" ? \"Delete\" : \"\"}\n        onKeyRight={onKeyRight}\n      />\n    </>\n  );\n}\n"],"sourceRoot":""}