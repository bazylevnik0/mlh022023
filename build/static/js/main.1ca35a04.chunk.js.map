{"version":3,"sources":["components/Softkey/Softkey.module.css","components/Input/Input.module.css","components/Todos/ToDos.module.css","components/Input/Input.js","components/Header/Header.js","components/Todos/ToDos.js","components/Softkey/Softkey.js","hooks/useNavigation.js","index.js","App.js"],"names":["module","exports","softkey","left","right","center","input","todos","completed","Input","_ref","label","type","react_default","a","createElement","className","css","nav-selectable","Header","title","header","ToDos","toDos","undefined","length","i","tabIndex","map","toDo","index","key","name","src","Softkey","onKeyLeft","onKeyCenter","onKeyRight","useEffect","document","addEventListener","handleKeyDown","removeEventListener","evt","useNavigation","onKeyDown","setNavigation","_useState","useState","_useState2","Object","slicedToArray","current","setCurrent","getAllElements","querySelectorAll","selectElement","body","setIndex","allElements","currentIndex","element","querySelector","parseInt","getAttribute","getTheIndexOfTheSelectedElement","goToFirstElement","scrollDiv","offsetTop","window","scrollTo","top","behavior","arguments","forEach","call","selectThisElement","setAttribute","nodeName","focus","blur","tagName","ReactDOM","render","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","setToDo","_getNotes","asyncToGenerator","regenerator_default","mark","_callee","notesCol","notesSnapshot","notesList","wrap","_context","prev","next","collection","getDocs","sent","docs","doc","data","stop","apply","this","_setNotes","_callee2","safe_name","_context2","replace","setDoc","_useNavigation","_useNavigation2","Fragment","Header_Header","Input_Input","ToDos_ToDos","Softkey_Softkey","getNotes","currentElement","value","_x","setNotes","deleteDoc","innerHTML","getElementById"],"mappings":"4EACAA,EAAAC,QAAA,CAAkBC,QAAA,yBAAAC,KAAA,sBAAAC,MAAA,uBAAAC,OAAA,6CCAlBL,EAAAC,QAAA,CAAkBK,MAAA,+DCAlBN,EAAAC,QAAA,CAAkBM,MAAA,qBAAAC,UAAA,wNCELC,EAAQ,SAAAC,GAAA,IAAGC,EAAHD,EAAGC,MAAOC,EAAVF,EAAUE,KAAV,OACnBC,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAIX,OAClBO,EAAAC,EAAAC,cAAA,SAAOH,KAAMA,EAAMM,iBAAe,SAClCL,EAAAC,EAAAC,cAAA,aAAQJ,sBCHCQ,EAAS,SAAAT,GAAe,IAAZU,EAAYV,EAAZU,MACvB,OACEP,EAAAC,EAAAC,cAAA,UAAQC,UAAWC,IAAII,QACrBR,EAAAC,EAAAC,cAAA,YAAOK,sBCHAE,EAAQ,SAAAZ,GAAe,IAAZa,EAAYb,EAAZa,MACtB,QAAcC,IAAVD,IAAwBA,EAAME,OAAQ,OAAO,KACjD,IAAIC,EAAIH,EAAME,OACd,OACEZ,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAIV,MAAOoB,SAAU,IAAID,EAAE,GAAIR,iBAAe,QAC3DK,EAAMK,IAAK,SAAUC,EAAMC,GAC1B,OAAQjB,EAAAC,EAAAC,cAAA,WAAKF,EAAAC,EAAAC,cAAA,QACXG,iBAAe,OACfa,IAAKD,EACLd,UAAU,OACVW,SAAU,GAAID,KACbG,EAAKG,MAERnB,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,OAAKkB,IAAMJ,EAAKG,6BCdXE,EAAU,SAAAxB,GAOjB,IANJP,EAMIO,EANJP,KACAgC,EAKIzB,EALJyB,UACA9B,EAIIK,EAJJL,OACA+B,EAGI1B,EAHJ0B,YACAhC,EAEIM,EAFJN,MACAiC,EACI3B,EADJ2B,WAEAC,oBAAU,WAGR,OAFAC,SAASC,iBAAiB,UAAWC,GAE9B,kBAAMF,SAASG,oBAAoB,UAAWD,KAEpD,IAEH,IAAMA,EAAgB,SAAAE,GACpB,OAAQA,EAAIZ,KACV,IAAK,WACH,OAAOI,GAAaA,EAAUQ,GAChC,IAAK,QACH,OAAOP,GAAeA,EAAYO,GACpC,IAAK,YACH,OAAON,GAAcA,EAAWM,GAClC,QACE,SAIN,OACE9B,EAAAC,EAAAC,cAAA,OAAKC,UAAWC,IAAIf,SAClBW,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,IAAId,MAAOA,GAC7BU,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,IAAIZ,QAASA,GAC/BQ,EAAAC,EAAAC,cAAA,SAAOC,UAAWC,IAAIb,OAAQA,KCjCvBwC,EAAgB,WAC3BN,oBAAU,WAIR,OAHAC,SAASC,iBAAiB,UAAWK,GACrCC,EAAc,GAEP,kBAAMP,SAASG,oBAAoB,UAAWG,KAEpD,IAP8B,IAAAE,EASHC,mBAAS,CAAEpC,KAAM,KAAMkB,MAAO,OAT3BmB,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAS1BK,EAT0BH,EAAA,GASjBI,EATiBJ,EAAA,GAW3BK,EAAiB,kBAAMf,SAASgB,iBAAiB,qBAOjDT,EAAgB,SAAAhB,GAAK,OAAI0B,EAAcF,IAAiBxB,IAAUS,SAASkB,OAE3EZ,EAAY,SAAAF,GAChB,GAAgB,cAAZA,EAAIZ,KAAmC,YAAZY,EAAIZ,IAAnC,CAEA,IAII2B,EAJEC,EAAcL,IACdM,EAXgC,WACtC,IAAMC,EAAUtB,SAASuB,cAAc,uBACvC,OAAOD,EAAUE,SAASF,EAAQG,aAAa,cAAgB,EAS1CC,GAIrB,OAAQtB,EAAIZ,KACV,IAAK,YACH,IAAMmC,EAAmBN,EAAe,EAAID,EAAYlC,OAAS,EAEjE+B,EAAcG,EADdD,EAAWQ,EAAmB,EAAIN,EAAe,IACVD,EAAY,GAAID,GACvD,MACF,IAAK,UAEHA,EADyC,IAAjBE,EACKD,EAAYlC,OAAS,EAAImC,EAAe,EACrEJ,EAAcG,EAAYD,IAAaC,EAAY,GAAID,GAO5D,IAAIS,EAAY5B,SAASuB,cAAc,uBAAuBM,UAC9DC,OAAOC,SAAS,CAAEC,IAAKJ,EAAWK,SAAU,aAGvChB,EAAgB,SAACA,GAAgC,IAAjBE,EAAiBe,UAAAhD,OAAA,QAAAD,IAAAiD,UAAA,GAAAA,UAAA,GAAN,EAC3CjB,IACF,GAAGkB,QAAQC,KAAKrB,IAAkB,SAACO,EAAS/B,GAC1C,IAAM8C,EAAoBf,EAC1BA,EAAQgB,aAAa,eAAgBhB,IAAYL,GACjDK,EAAQgB,aAAa,YAAa/C,GAC9B8C,IACuB,UAArBf,EAAQiB,SACVjB,EAAQkB,QAERlB,EAAQmB,UAId3B,EAAW,CAAEzC,KAAM4C,EAAcyB,QAASnD,MAAO4B,MAIrD,MAAO,CAACN,EAASN,oBC/DnBoC,IAASC,OAAOtE,EAAAC,EAAAC,cCCD,WAEd,IAUMqE,EAAMC,YAVW,CACrBC,OAAQ,0CACRC,WAAY,kCACZC,UAAW,kBACXC,cAAe,8BACfC,kBAAmB,eACnBC,MAAO,8CAKHC,EAAKC,YAAaT,GAbKrC,EAgBHC,mBAAS,IAhBNC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAgBrBxB,EAhBqB0B,EAAA,GAgBd6C,EAhBc7C,EAAA,YAAA8C,IAAA,OAAAA,EAAA7C,OAAA8C,EAAA,EAAA9C,CAAA+C,EAAAnF,EAAAoF,KAmB5B,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,EAAAnF,EAAAyF,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACON,EAAWO,YAAWf,EAAI,SADjCY,EAAAE,KAAA,EAE6BE,YAAQR,GAFrC,OAEOC,EAFPG,EAAAK,KAGOP,EAAYD,EAAcS,KAAKlF,IAAI,SAAAmF,GAAG,OAAIA,EAAIC,SACpDlB,EAAQQ,GACCA,EAAU7E,OALpB,wBAAA+E,EAAAS,SAAAd,OAnB4Be,MAAAC,KAAA1C,WAAA,SAAA2C,IAAA,OAAAA,EAAAlE,OAAA8C,EAAA,EAAA9C,CAAA+C,EAAAnF,EAAAoF,KA0B5B,SAAAmB,EAAwBrF,GAAxB,IAAAsF,EAAA,OAAArB,EAAAnF,EAAAyF,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cACKY,EAAYtF,EAAKwF,QAAQ,MAAM,KADpCD,EAAAb,KAAA,EAEOe,YAAOV,YAAInB,EAAI,QAAQ0B,GAAY,CACxCtF,KAAMA,IAHR,wBAAAuF,EAAAN,SAAAI,OA1B4BH,MAAAC,KAAA1C,WAAA,IAAAiD,EAiCK9E,IAjCL+E,EAAAzE,OAAAC,EAAA,EAAAD,CAAAwE,EAAA,GAiCrBtE,EAjCqBuE,EAAA,GA4D5B,OA5D4BA,EAAA,GA6D1B9G,EAAAC,EAAAC,cAAAF,EAAAC,EAAA8G,SAAA,KACE/G,EAAAC,EAAAC,cAAC8G,EAAD,CAAQzG,MAAM,cAEdP,EAAAC,EAAAC,cAAC+G,EAAD,CAAOlH,KAAK,OAAOD,MAAM,MACzBE,EAAAC,EAAAC,cAACgH,EAAD,CAAOxG,MAAOA,IAEdV,EAAAC,EAAAC,cAACiH,EAAD,CACE7H,KAAM,UACNgC,UAlCY,YAnCU,WAAA4D,EAAAmB,MAAAC,KAAA1C,WAoCzBwD,CAASrC,IAkCNvF,OAAyB,UAAjB+C,EAAQxC,KAAmB,SAAW,SAC9CwB,YAhCc,WAClB,IAAM8F,EAAiB3F,SAASuB,cAAc,uBACfC,SAASmE,EAAelE,aAAa,aAAc,IAE9EkE,EAAeC,MAAM1G,SA3CC,SAAA2G,GAAAhB,EAAAF,MAAAC,KAAA1C,WA4CxB4D,CAAS,GAAGH,EAAeC,OAC3BD,EAAeC,MAAQ,KA2BrB/H,MAAwB,SAAjBgD,EAAQxC,KAAkB,SAAW,GAC5CyB,WAxBa,WACjB,IAAM6F,EAAiB3F,SAASuB,cAAc,uBACzBC,SACnBmE,EAAelE,aAAa,aAC5B,IAEiB,GACjBsE,YAAUvB,YAAInB,EAAI,QAAS,GAAGsC,EAAeK,UAAUf,QAAQ,MAAM,YDzD3D,MAASjF,SAASiG,eAAe","file":"static/js/main.1ca35a04.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"softkey\":\"Softkey_softkey__1151L\",\"left\":\"Softkey_left__2rFAu\",\"right\":\"Softkey_right__WpWo6\",\"center\":\"Softkey_center__2ZVB4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Input_input__3PNbO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"todos\":\"ToDos_todos__pfuN-\",\"completed\":\"ToDos_completed__1Rfv4\"};","import React from \"react\";\nimport css from \"./Input.module.css\";\n\nexport const Input = ({ label, type }) => (\n  <div className={css.input}>\n    <input type={type} nav-selectable=\"true\" />\n    <label>{label}</label>\n  </div>\n)\n","import React from 'react'\nimport css from './Header.module.css';\n\nexport const Header = ({ title }) => {\n  return (\n    <header className={css.header}>\n      <span>{title}</span>\n    </header>\n  )\n}\n","import React from 'react';\nimport css from './ToDos.module.css';\n\nexport const ToDos = ({ toDos }) => {\n  if (toDos === undefined || !toDos.length) return null;\n  let i = toDos.length;\n  return (\n    <div className={css.todos} tabIndex={\"\"+(i+1)} nav-selectable=\"true\">\n      {toDos.map( function (toDo, index) {\n        return  <div><span\n          nav-selectable=\"true\"\n          key={index}\n          className=\"todo\"\n          tabIndex={\"\"+(i--)}>\n          {toDo.name}\n        </span> \n        <br />\n        <img src= {toDo.name} />\n\t</div>\n        } \n      )}\n    </div>\n  )\n}\n\n","import React, { useEffect } from \"react\";\nimport css from \"./Softkey.module.css\";\n\nexport const Softkey = ({\n  left,\n  onKeyLeft,\n  center,\n  onKeyCenter,\n  right,\n  onKeyRight\n}) => {\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => document.removeEventListener(\"keydown\", handleKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleKeyDown = evt => {\n    switch (evt.key) {\n      case \"SoftLeft\":\n        return onKeyLeft && onKeyLeft(evt);\n      case \"Enter\":\n        return onKeyCenter && onKeyCenter(evt);\n      case \"SoftRight\":\n        return onKeyRight && onKeyRight(evt);\n      default:\n        return;\n    }\n  };\n\n  return (\n    <div className={css.softkey}>\n      <label className={css.left}>{left}</label>\n      <label className={css.center}>{center}</label>\n      <label className={css.right}>{right}</label>\n    </div>\n  );\n};\n","import { useState, useEffect } from 'react';\n\nexport const useNavigation = () => {\n  useEffect(() => {\n    document.addEventListener('keydown', onKeyDown);\n    setNavigation(0);\n\n    return () => document.removeEventListener('keydown', onKeyDown);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const [current, setCurrent] = useState({ type: null, index: null });\n\n  const getAllElements = () => document.querySelectorAll('[nav-selectable]');\n\n  const getTheIndexOfTheSelectedElement = () => {\n    const element = document.querySelector('[nav-selected=true]');\n    return element ? parseInt(element.getAttribute('nav-index')) : 0;\n  }\n\n  const setNavigation = index => selectElement(getAllElements()[index] || document.body);\n  \n  const onKeyDown = evt => {\n    if (evt.key !== 'ArrowDown' && evt.key !== 'ArrowUp') return;\n\n    const allElements = getAllElements();\n    const currentIndex = getTheIndexOfTheSelectedElement();\n\n\n    let setIndex;\n    switch (evt.key) {\n      case 'ArrowDown':\n        const goToFirstElement = currentIndex + 1 > allElements.length - 1;\n        setIndex = goToFirstElement ? 0 : currentIndex + 1;\n        selectElement(allElements[setIndex] || allElements[0], setIndex);\n        break;\n      case 'ArrowUp':\n        const goToLastElement = currentIndex === 0;\n        setIndex = goToLastElement ? allElements.length - 1 : currentIndex - 1;\n        selectElement(allElements[setIndex] || allElements[0], setIndex);\n        break;\n      default:\n        break;\n    }\n   \n   //console.log(\"test\");\n   var scrollDiv = document.querySelector('[nav-selected=true]').offsetTop;\n   window.scrollTo({ top: scrollDiv, behavior: 'smooth'}); \n  }\n\n  const selectElement = (selectElement, setIndex = 0) => {\n    if (selectElement) {\n      [].forEach.call(getAllElements(), (element, index) => {\n        const selectThisElement = element;\n        element.setAttribute(\"nav-selected\", element === selectElement);\n        element.setAttribute(\"nav-index\", index);\n        if (selectThisElement) {\n          if (element.nodeName === 'INPUT') {\n            element.focus();\n          } else {\n            element.blur();\n          }\n        }\n      });\n      setCurrent({ type: selectElement.tagName, index: setIndex });\n    } \n  }\n\n  return [current, setNavigation];\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n  \n\n","import React, { useState } from \"react\";\nimport { Header, Input, ToDos, Softkey } from \"./components\";\nimport { useNavigation } from \"./hooks\";\nimport { initializeApp } from \"firebase/app\";\nimport { getFirestore, collection, doc, getDocs, setDoc, deleteDoc } from 'firebase/firestore/lite';\n\nexport default function App() {\n\t// Your web app's Firebase configuration\n\tconst firebaseConfig = {\n\t  apiKey: \"AIzaSyBEvvdbPzE-MHBNXhs64khBUIH2ZFL5iYA\",\n\t  authDomain: \"traveller-ad8e4.firebaseapp.com\",\n\t  projectId: \"traveller-ad8e4\",\n\t  storageBucket: \"traveller-ad8e4.appspot.com\",\n\t  messagingSenderId: \"676434108843\",\n\t  appId: \"1:676434108843:web:3e04bc87b2d84742e732ee\"\n\t};\n\n\t// Initialize Firebase\n\tconst app = initializeApp(firebaseConfig);\n\tconst db = getFirestore(app);\n\n\n  const [toDos, setToDo] = useState([]);\n  \n  let length;\n  async function getNotes() {\n  \tconst notesCol = collection(db, 'notes');\n  \tconst notesSnapshot = await getDocs(notesCol);\n  \tconst notesList = notesSnapshot.docs.map(doc => doc.data());\n  \tsetToDo(notesList);\n  \tlength = notesList.length;\n  }\n  async function setNotes(name) {\n  \tlet safe_name = name.replace(/\\//g,\"|\");\n  \tawait setDoc(doc(db, \"notes\",safe_name), {\n  \t\tname: name\n\t});\n  }\n   \n  const [current, setNavigation] = useNavigation();\n\n  const onKeyLeft = () => {\n     getNotes(db);\n  };\n  \n  const onKeyCenter = () => {\n    const currentElement = document.querySelector(\"[nav-selected=true]\");\n    const currentNavigationIndex = parseInt(currentElement.getAttribute(\"nav-index\"), 10);\n\n    if (currentElement.value.length) {\n      setNotes(\"\"+currentElement.value);\n      currentElement.value = \"\";\n    }\n     };\n\n  const onKeyRight = () => {\n    const currentElement = document.querySelector(\"[nav-selected=true]\");\n    const currentIndex = parseInt(\n      currentElement.getAttribute(\"nav-index\"),\n      10\n    );   \n    if (currentIndex > 0) {\n      deleteDoc(doc(db, \"notes\", \"\"+currentElement.innerHTML.replace(/\\//g,\"|\")));\n    }\n  };\n  \n  return (\n    <>\n      <Header title=\"Traveller\" />\n\n      <Input type=\"text\" label=\"+\" />\n      <ToDos toDos={toDos} />\n\n      <Softkey\n        left={\"CONNECT\"}\n        onKeyLeft={onKeyLeft}\n        center={current.type === \"INPUT\" ? \"Insert\" : \"Toggle\"}\n        onKeyCenter={onKeyCenter}\n        right={current.type === \"SPAN\" ? \"Delete\" : \"\"}\n        onKeyRight={onKeyRight}\n      />\n    </>\n  );\n}\n"],"sourceRoot":""}